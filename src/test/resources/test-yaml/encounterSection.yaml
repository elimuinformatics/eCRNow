---
testName: "EncounterSectionValidation"
testCase:
  eCR-encounter:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_FullECR.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Problem-WithCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "templateId"
        count: 2
      - xPath: ""
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "46240-8"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "History of Encounters"
        "title": "ENCOUNTERS"
      - xPath: "text/table/thead/tr/th"
        count: 2
      - xPath: "text/table/tbody/tr"
        count: 1
      - xPath: "text/table/tbody/tr/td"
        count: 2
      - xPath: "text/table/"
        "thead/tr/th[1]": "Encounter Code"
        "thead/tr/th[2]": "Date of Encounter"
        "tbody/tr/td[1]/content": "inpatient encounter"
      #      'tbody/tr/td[2]/content': "20200512191056"
      - xPath: "entry"
        count: 1
      - xPath: "entry/encounter/id"
        count: 2
      - xPath: "entry/encounter/"
        "id[1]/@root": "2.16.840.1.113883.1.1.1.1"
        "id[1]/@extension": "97953900"
        "id[2]/@root": "2.16.840.1.113883.4.4"
        "id[2]/@extension": "98314717"
        "code/@code": "IMP"
        "code/@codeSystem": "2.16.840.1.113883.5.4"
        "code/@codeSystemName": "v3-ActCode"
        "code/@displayName": "inpatient encounter"
        #      'effectiveTime/low/@value': "20200512"
        "effectiveTime/high/@nullFlavor": ""
  eCR-encounter-withInvalidClass-UseType:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_FullECR.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withInvalidClass.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Problem-WithCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "text/table/"
        "thead/tr/th[1]": "Encounter Code"
        "thead/tr/th[2]": "Date of Encounter"
        "tbody/tr/td[1]/content": "inpatient encounter"
      #      'tbody/tr/td[2]/content': "20200512191056"
      - xPath: "entry/encounter/"
        "code/@code": "O"
        "code/@codeSystem": "2.16.840.1.113883.18.5"
        "code/@codeSystemName": "v2-0004"
        "code/@displayName": "Outpatient"
  eCR-encounterDiagnosis-FullECR-WithNonCOVIDTriggerCode:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_FullECR.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Diagnosis-WithNonCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "entry/encounter/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "T40.1X1A"
 
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@displayName": "Poisoning by heroin, accidental (unintentional), initial encounter"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/templateId"
        count: 3
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "id/@extension": "d2573912687"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #        'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "T40.1X1A"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        #"value/@valueSetVersion": "2020-07-09"
  eCR-encounterDiagnosis-FullECR-WithCovidAndNonCOVIDTriggerCode:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_FullECR.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Diagnosis-WithCovidAndNonCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "templateId"
        count: 2
      - xPath: ""
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "46240-8"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "History of Encounters"
        "title": "ENCOUNTERS"
      - xPath: "text/table/thead/tr/th"
        count: 2
      - xPath: "text/table/tbody/tr"
        count: 1
      - xPath: "text/table/tbody/tr/td"
        count: 2
      - xPath: "text/table/"
        "thead/tr/th[1]": "Encounter Code"
        "thead/tr/th[2]": "Date of Encounter"
       # "tbody/tr/td[1]/content": "Outpatient"
      - xPath: "entry/"
        "@typeCode": "DRIV"
      - xPath: "/entry/encounter/templateId"
        count: 2
      - xPath: "/entry/encounter/"
        "@classCode": "ENC"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "IMP"
        "code/@codeSystem": "2.16.840.1.113883.5.4"
        "code/@codeSystemName": "v3-ActCode"
        "code/@displayName": "inpatient encounter"
        "code/originalText/reference/@value": "#encounter1"
      - xPath: "entry/encounter/entryRelationship"
        count: 3
      - xPath: "entry/encounter/entryRelationship[1]/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[1]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[1]/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "386661006"
        "value/@codeSystem": "2.16.840.1.113883.6.96"
        "value/@codeSystemName": "SNOMED-CT"
        "value/@displayName": "Fever (finding)"
        "value/translation/@code": "R50.9"
        "value/translation/@codeSystem": "2.16.840.1.113883.6.90"
        "value/translation/@codeSystemName": "ICD-10-CM"
        "value/translation/@displayName": "Fever, unspecified"
      - xPath: "entry/encounter/entryRelationship[2]/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[2]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[2]/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210126180000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@displayName": "Coronavirus infection, unspecified"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210126180000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@valueSet": "2.16.840.1.114222.4.11.7508"
        #"value/@valueSetVersion": "2020-07-09"
      - xPath: "entry/encounter/entryRelationship[3]/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[3]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[3]/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "64764001"
        "value/@codeSystem": "2.16.840.1.113883.6.96"
        "value/@codeSystemName": "SNOMED-CT"
        "value/@displayName": "Acute paralytic poliomyelitis, bulbar (disorder)"
        "value/translation/@code": "A80.30"
        "value/translation/@codeSystem": "2.16.840.1.113883.6.90"
        "value/translation/@codeSystemName": "ICD-10-CM"
        "value/translation/@displayName": "Acute paralytic poliomyelitis, unspecified"
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/entryRelationship/observation/templateId"
        count: 3
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "id/@extension": "d2574441819"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #        'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "64764001"
        "value/@codeSystem": "2.16.840.1.113883.6.96"
        "value/@codeSystemName": "SNOMED-CT"
        "value/@valueSet": "2.16.840.1.114222.4.11.7508"
        #"value/@valueSetVersion": "2020-07-09"
  eCR-encounterDiagnosis-FullECR-WithCOVIDTriggerCode:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_FullECR.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Diagnosis-WithCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "templateId"
        count: 2
      - xPath: ""
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "46240-8"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "History of Encounters"
        "title": "ENCOUNTERS"
      - xPath: "text/table/thead/tr/th"
        count: 2
      - xPath: "text/table/tbody/tr"
        count: 1
      - xPath: "text/table/tbody/tr/td"
        count: 2
      - xPath: "text/table/"
        "thead/tr/th[1]": "Encounter Code"
        "thead/tr/th[2]": "Date of Encounter"
        "tbody/tr/td[1]/content": "inpatient encounter"
      - xPath: "entry/"
        "@typeCode": "DRIV"
      - xPath: "entry/encounter/templateId"
        count: 2
      - xPath: "entry/encounter/"
        "@classCode": "ENC"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "IMP"
        "code/@codeSystem": "2.16.840.1.113883.5.4"
        "code/@codeSystemName": "v3-ActCode"
        "code/@displayName": "inpatient encounter"
        "code/originalText/reference/@value": "#encounter1"
        #"effectiveTime/low/@value": "20200512134056+0000"
        #"effectiveTime/high/@value": "20200512134057+0000"
      - xPath: "entry/encounter/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
    
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@displayName": "Coronavirus infection, unspecified"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/templateId"
        count: 3
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "id/@extension": "d2572930097"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #        'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
 
        #"value/@valueSetVersion": "2020-07-09"
  eCR-encounterDiagnosis-COVID-WithCOVIDOnlyTriggerCode:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_COVID.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Diagnosis-WithCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "templateId"
        count: 2
      - xPath: ""
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "46240-8"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "History of Encounters"
        "title": "ENCOUNTERS"
      - xPath: "text/table/thead/tr/th"
        count: 2
      - xPath: "text/table/tbody/tr"
        count: 1
      - xPath: "text/table/tbody/tr/td"
        count: 2
      - xPath: "text/table/"
        "thead/tr/th[1]": "Encounter Code"
        "thead/tr/th[2]": "Date of Encounter"
        "tbody/tr/td[1]/content": "inpatient encounter"
      - xPath: "entry/"
        "@typeCode": "DRIV"
      - xPath: "entry/encounter/templateId"
        count: 2
      - xPath: "entry/encounter/"
        "@classCode": "ENC"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "IMP"
        "code/@codeSystem": "2.16.840.1.113883.5.4"
        "code/@codeSystemName": "v3-ActCode"
        "code/@displayName": "inpatient encounter"
        "code/originalText/reference/@value": "#encounter1"
        #"effectiveTime/low/@value": "20200512134056+0000"
        #"effectiveTime/high/@value": "20200512134057+0000"
      - xPath: "entry/encounter/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@displayName": "Coronavirus infection, unspecified"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/templateId"
        count: 3
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "id/@extension": "d2572930097"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #        'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@valueSet": "2.16.840.1.114222.4.11.7508"
        #"value/@valueSetVersion": "2020-07-09"
  eCR-encounterDiagnosis-COVID-WithCovidAndNonCovidTriggerCode:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_COVID.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Diagnosis-WithCovidAndNonCovidTriggerCode.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "templateId"
        count: 2
      - xPath: ""
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.2.22.1"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "46240-8"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "History of Encounters"
        "title": "ENCOUNTERS"
      - xPath: "text/table/thead/tr/th"
        count: 2
      - xPath: "text/table/tbody/tr"
        count: 1
      - xPath: "text/table/tbody/tr/td"
        count: 2
      - xPath: "text/table/"
        "thead/tr/th[1]": "Encounter Code"
        "thead/tr/th[2]": "Date of Encounter"
       # "tbody/tr/td[1]/content": "Outpatient"
      - xPath: "entry/"
        "@typeCode": "DRIV"
      - xPath: "/entry/encounter/templateId"
        count: 2
      - xPath: "/entry/encounter/"
        "@classCode": "ENC"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.49"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "IMP"
        "code/@codeSystem": "2.16.840.1.113883.5.4"
        "code/@codeSystemName": "v3-ActCode"
        "code/@displayName": "inpatient encounter"
        "code/originalText/reference/@value": "#encounter1"
        #"effectiveTime/low/@value": "20200512134056+0000"
        #"effectiveTime/high/@value": "20200512134057+0000"
      - xPath: "entry/encounter/entryRelationship"
        count: 3
      - xPath: "entry/encounter/entryRelationship[1]/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[1]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[1]/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[1]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "386661006"
        "value/@codeSystem": "2.16.840.1.113883.6.96"
        "value/@codeSystemName": "SNOMED-CT"
        "value/@displayName": "Fever (finding)"
        "value/translation/@code": "R50.9"
        "value/translation/@codeSystem": "2.16.840.1.113883.6.90"
        "value/translation/@codeSystemName": "ICD-10-CM"
        "value/translation/@displayName": "Fever, unspecified"
      - xPath: "entry/encounter/entryRelationship[2]/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[2]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[2]/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210126180000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@displayName": "Coronavirus infection, unspecified"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210126180000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "B34.2"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@valueSet": "2.16.840.1.114222.4.11.7508"
        #"value/@valueSetVersion": "2020-07-09"
      - xPath: "entry/encounter/entryRelationship[3]/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[3]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[3]/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[3]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "64764001"
        "value/@codeSystem": "2.16.840.1.113883.6.96"
        "value/@codeSystemName": "SNOMED-CT"
        "value/@displayName": "Acute paralytic poliomyelitis, bulbar (disorder)"
        "value/translation/@code": "A80.30"
        "value/translation/@codeSystem": "2.16.840.1.113883.6.90"
        "value/translation/@codeSystemName": "ICD-10-CM"
        "value/translation/@displayName": "Acute paralytic poliomyelitis, unspecified"
  eCR-EncounterDiagnosis-In-Condition-WithICD10TriggerCode-M30.3:
    testData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDetail_IT_FullECR.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
      BaseXPath: "/ClinicalDocument/component/structuredBody/component[2]/section/"
    resourceMappingData:
      Patient:
        - params: "12742571"
          responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
        - params: "97953900"
          responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
        - params: "11817978"
          responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
        - params: "675844"
          responseFilePath: "R4/Organization/Organization.json"
      Condition:
        - params:
            patient: "12742571"
            category: "problem-list-item,encounter-diagnosis"
            clinical-status: "active,recurrence,relapse"
          responseFilePath: "R4/Condition/Condition-Diagnosis-WithICD10TriggerCode-M30.3.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
      - xPath: "entry/encounter/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship[2]/act/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship/act/"
        "@classCode": "ACT"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.80"
        "templateId[2]/@extension": "2015-08-01"
        "code/@code": "29308-4"
        "code/@codeSystem": "2.16.840.1.113883.6.1"
        "code/@codeSystemName": "LOINC"
        "code/@displayName": "DIAGNOSIS"
        "statusCode/@code": "active"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/"
        "@typeCode": "SUBJ"
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/templateId"
        count: 2
      - xPath: "entry/encounter/entryRelationship[2]/act/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        #        'id/@root': "b127a9fa-1887-4bd4-aff4-ecac8354a069"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #       'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "M30.3"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        "value/@codeSystemName": "ICD-10-CM"
        "value/@displayName": "Mucocutaneous lymph node syndrome [Kawasaki]"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/"
        "@typeCode": "RSON"
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/id"
        count: 1
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/templateId"
        count: 3
      - xPath: "entry/encounter/entryRelationship/act/entryRelationship/observation/entryRelationship/observation/"
        "@classCode": "OBS"
        "@moodCode": "EVN"
        "@negationInd": "false"
        "templateId[1]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@root": "2.16.840.1.113883.10.20.22.4.4"
        "templateId[2]/@extension": "2015-08-01"
        "templateId[3]/@root": "2.16.840.1.113883.10.20.15.2.3.3"
        "templateId[3]/@extension": "2016-12-01"
        "id/@root": "2.16.840.1.113883.1.1.1.1"
        "id/@extension": "d2574511075"
        "code/@code": "282291009"
        "code/@codeSystem": "2.16.840.1.113883.6.96"
        "code/@codeSystemName": "SNOMED-CT"
        "code/@displayName": "Diagnosis"
        "code/translation/@code": "29308-4"
        "code/translation/@codeSystem": "2.16.840.1.113883.6.1"
        "code/translation/@codeSystemName": "LOINC"
        "code/translation/@displayName": "Diagnosis"
        "statusCode/@code": "completed"
        #        'effectiveTime/low/@value': "20210928170000+0000"
        "effectiveTime/high/@nullFlavor": "NI"
        "value/@type": "CD"
        "value/@code": "M30.3"
        "value/@codeSystem": "2.16.840.1.113883.6.90"
        #  "value/@codeSystemName": "ICD-10-CM"
        #  "value/@valueSet": "2.16.840.1.114222.4.11.7508"
        #  "value/@valueSetVersion": "2022-03-29"
